<HTML>
<body bgcolor=white text=black>
Forest Clearing:
<P><FONT SIZE=-1>&nbsp;&nbsp;&nbsp;&nbsp; A small clearing in the dense
pine forest,&nbsp; still dusted with snow from the previous winter. There
is a pile of dismembered methods, declarations, and variables at the foot
of a pine tree, along with a crudely made sign that reads</FONT>
<P>
<HR WIDTH="100%">
<CENTER><B><FONT SIZE=+4>Make Your Own Verb</FONT></B></CENTER>

<HR WIDTH="100%">
<P>&nbsp;&nbsp;&nbsp; I've found that it's easier to learn certain things
by example, especially weird complicated things like programming.... So
I've put together a short, silly, example verb, which doesn't really do
much other than to show you what the basic structure of verb code looks
like. If you have no programming experience whatsoever, then you'll have
to bear with me for a while, but you can start by looking at the following
verb code. This verb was designed to be made by an author named Bob, and
to be <A HREF="verbs.html#enable">enabled</A> on a mop or other object
that could be used as an air guitar or otherwise danced around with.
<P><B>
package divunal.bob;<BR>
import twisted.reality.*;
</P>
<p>public class BobsFunkyVerb extends Verb<BR>
{</p>
<BLOCKQUOTE>
<p>public BobsFunkyVerb()<BR>
{</p>
<BLOCKQUOTE>
super("dance");<BR>
alias("groove");<BR>
setDefaultPrep("with");<BR>
</BLOCKQUOTE>
<p>}</p>
<p>public boolean action(Sentence d) throws RPException<BR>
{</p>
<BLOCKQUOTE>
Player dancer = d.subject();<BR>
Thing dancee = d.indirectObject("with");<BR>
Location thisRoom = d.place();<BR>
<p>
Object[] whatOthersHear =<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{dancer, " gets down and gets funky, dancing with ", dancee, "."};<BR>
Object[] whatBobHears =<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{"You get down, get funky, and dance around with ", dancee, "."};</p>
<p>
thisRoom.tellAll(dancer, whatBobHears, whatOthersHear);</p>
<p>
return true;<p/>
</BLOCKQUOTE>
}
</BLOCKQUOTE>
}</B>
<P>
&nbsp;&nbsp;&nbsp;If that was confusing and made no sense whatsoever,
don't worry. I'll be going over each part of that code, and explaining
why it is there and what it does.&nbsp;But the idea is that if a verb had
BobsFunkyVerb enabled on it, and bob typed either "dance with mop" or "groove
with mop", he would see "You get down, get funky, and dance around with
the mop." on his screen, and everyone else in the room would see "Bob gets
down and gets funky, dancing with the mop." But anyway, let's take a closer
look at that code.<BR>
<P>
<B>package divunal.bob;</B><BR>
<BLOCKQUOTE><TT><FONT SIZE=-1>This announces the software package that
this verb belongs to (in this case, divunal.bob). If your name was Jethro,
you would want to have <B><FONT COLOR="#000000">package divunal.jethro;
</FONT></B>there instead. This is important, as it helps to organize everyone's
work. Remember that Java is case sensitive, and so we keep things in lower
case for simplicity.</FONT></TT></BLOCKQUOTE>
<B>import twisted.reality.*;</B>
<BLOCKQUOTE><TT><FONT SIZE=-1>Imports the standard twisted reality verb
classes and their methods for use in your verb. If Bob wanted to use the
methods from his other personal verb, called "BobsKickAssVerb", he would
use something like <B>import divunal.bob.BobsKickAssVerb; . </B>He could
import all of his verbs by using <B>import divunal.bob.*;</B> although
this would be less efficient. In order to be a good programmer, and to
conserve memory, you should just name the specific divunal verbs that you
need.</FONT></TT></BLOCKQUOTE>
<B>public class BobsFunkyVerb extends Verb<BR>
{</B>
<BLOCKQUOTE><TT><FONT SIZE=-1>Defines your new verb class. BobsFunkyVerb
would be replaced by whatever name you want your verb to be called, but
it should always exend from Verb. Don't forget to open and close the brackets
{}, which should surround all the various components of the verb.<BR>
<P>
Each time you move in one set of brackets, you should indent; This makes 
your code much easier to understand.<BR></FONT></TT>
<P><B>public BobsFunkyVerb()</B>
<BR><B>&nbsp;{</B>
<BLOCKQUOTE><B>super("dance");</B>
<BR><B>alias("groove");</B>
<BR><B>setDefaultPrep("with");</B></BLOCKQUOTE>
<B>&nbsp;}</B>
<BLOCKQUOTE><TT><FONT SIZE=-1>This defines BobsNewVerb (or whatever your
verb is called) as a method, thus making it useable as a verb. The "super"
arguement is the name by which the verb will be referred to in normal use;
the "alias" is simply another name by which you can refer to the verb.
In this case, it would allow the user to type either "dance" or "groove"
to activate the verb. setDefaultPrep sets the default preposition, announcing
that you normally dance "with" things, rather than dancing&nbsp;"at" them
or "on" them, at least for purposes of this particular verb. :-) Note that 
I remembered to close the brackets, which is important.</FONT></TT><BR>
</BLOCKQUOTE>
<B>public boolean action(Sentence d) throws RPException</B><BR>
<BLOCKQUOTE>
<TT><FONT SIZE=-1>This begins the main "action" method of the
verb, where your code will attempt to figure out what the user is trying
to say, and act accordingly. The word boolean implies that this method
must end by returning a boolean value (a true/false sorta thing) indicating
whether or not it was able to work.&nbsp;This is important, because it
lets the game respond appropriately if something weird happens. Note that
"d", a Sentence entered by the player, is being accepted by "action" as
an arguement. When we need to find out anything about the sentence the
player used, we'll be referring to it as "d".</FONT></TT><BR>
<P>
<B>Player dancer = d.subject();<BR>
Thing dancee = d.indirectObject("with");<BR>
Location thisRoom = d.place();</B><BR>
<BLOCKQUOTE>
<TT><FONT SIZE=-1>Here, we define the local variables for our
action method. We've made a variable called "dancer", which contains the 
identity of the Player who is the subject of the sentence (the person who 
used the verb), and another, called "dancee", which contains the identity of 
the direct object, the Thing that the player is dancing with. I'm using the 
word "identity" here because we aren't storing the names of the objects in
question, so much as we're storing a "pointer" to the player or thing we're 
referring to. If you read what was stored inside the "dancee" variable, it
would look like a bunch of random characters (so printing it out on the
screen wouldn't do much) but to the computer, it is the "true name" of the
Thing, regardless of what it may be named or appear as.
</FONT></TT></BLOCKQUOTE>
<B>Object[] whatOthersHear =<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{dancer, " gets down and gets funky, dancing with ", dancee, "."};<BR>
</B><BLOCKQUOTE>
<TT><FONT SIZE=-1>This sounds complicated, but it isn't
that bad once you understand what all the parts mean. Basically, we
are creating a line of text which will eventually be sent to everyone
in the room except for the player who is dancing. Object[] implies an
array of objects; in this case, pieces of text and references to
relevant people and objects. This array, <B>whatOthersHear</B>, will
look something like "Bob gets down and gets funky, dancing with the
mop" if <B>dancer</B> is currently Bob, and <B>dancee</B> is the
mop. The reason we have to make an array like this is so that no
matter who is dancing with what, and what state they're in, the text
will appear correctly. If Jethro is dancing with a glowing yellow mop
that has been enabled with this verb, and he is wearing a mask that
obscures his features, the text will come out as "The masked man gets
down and gets funky, dancing with the glowing yellow mop."</FONT></TT>
</BLOCKQUOTE>
<B>Object[] whatBobHears =<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{"You get down, get funky, and dance around with ", dancee, "."};</B>
<BLOCKQUOTE><TT><FONT SIZE=-1>
This is the line of text that will be sent to the dancer himself... It's not very complicated, really, but it does make sure that it gives you the currently appropriate name of the thing you're dancing with, including any strange temporary effects it may be imbued with.
</FONT></TT></BLOCKQUOTE>
<B>thisRoom.tellAll(dancer, whatBobHears, whatOthersHear);</B>
<BLOCKQUOTE>
<TT><FONT SIZE=-1>We just told everyone else what the player
did...&nbsp;But now we have to let the player know what they did, too.
This array is much simpler, as the only special part is the name of the
object being danced with. As with the <b>whatOthersHear</b> array, even
a strange situation would be accounted for. (If the mop was glowing yellow
at the time, the player would see "You get down, get funky, and dance around
with the glowing yellow mop.")
</FONT></TT></BLOCKQUOTE>
<B>return true;</B>
<BLOCKQUOTE><TT><FONT SIZE=-1>Remember when I said that "action"&nbsp;had
to return true or false? Well, if it doesn't do one or the other, it's
not going to work. Since nothing can really go wrong with this verb, I'm
just going to return true here. It is important to do this last, since
return true means that action is all done... And anything else that happens
afterwards is ignored.</FONT></TT></BLOCKQUOTE>
</BLOCKQUOTE>
<B>}</B>
<BLOCKQUOTE><TT><FONT SIZE=-1>Here, we close the brackets for "action",
since we're all done with it.</FONT></TT></BLOCKQUOTE>
</BLOCKQUOTE>
<B>}</B>
<BLOCKQUOTE><TT><FONT SIZE=-1>This is the all-important closing bracket
for the main class definition.&nbsp; :-) If you don't remember to close
all your brackets, your program won't work...&nbsp;And equally bad things
will happen if you don't close them in the right place.</FONT></TT></BLOCKQUOTE>

<P><BR>&nbsp;&nbsp;&nbsp; So... That was a verb. It's intimidating at
first, but it's really not that complicated when you get right down to
it, and you can learn a lot just by reading other verbs. You can make
your own verbs pretty easily based on this code, or on other simple
verbs (like the emote verbs... smile, yawn, etc.)&nbsp; Emotes are
very simple, and good to get started with. You can also learn more
about the way verbs work in the game by looking through the <A
HREF="verbs.html">Verb Index</A>.  It's a lot of stuff to learn, but
don't let it scare you.  <P>&nbsp;&nbsp;&nbsp; The Twisted Reality
methods we used are documented in more detail at <A
HREF="pumpdoc/Package-twisted.reality.html">Glyph's
Twisted&nbsp;Reality website.</A> Remember that methods are all based
off of the class they are a part of: The methods you can apply to
sentences, like directObject(), are part of <A
HREF="pumpdoc/twisted.reality.Sentence.html#_top_">Sentence</a>"... methods
you can apply to rooms, like tellEverybodyBut() are part of <A
HREF="pumpdoc/twisted.reality.Room.html#_top_">Room</a> and so on. (<A
HREF="pumpdoc/twisted.reality.Thing.html#_top_">Thing</a> and <A
HREF="pumpdoc/twisted.reality.Player.html#_top_">Player</a> are also
good things to read up on.)  <P>&nbsp;&nbsp;&nbsp; If you don't know
that much about programming to begin with, here are some more basic
constructs you may see in other verbs: <P><B>if (Something ==
SomethingElse)</B> <BR><B>{</B>
<BLOCKQUOTE><B>DoSomeStuff.toSomeOtherStuff();</B></BLOCKQUOTE>
<B>}</B> <BLOCKQUOTE><TT><FONT SIZE=-1>That is what we in the
programming trade call a "conditional" statement. If the expression in
the parenthesis after "if" is true, then it will execute the stuff
inside the brackets. We use == to mean "is equal to", because = by
itself implies that you want to cause the two things to be equal,
which is very different.&nbsp; :-)&nbsp; If you use a = in your
conditional, then Something will become equal to SomethingElse,
regardless of whether or not they were equal before, and the
conditional will be read as true, which is almost certainly not what
you want.</FONT></TT></BLOCKQUOTE> <B>if (Something ==
SomethingElse)</B> <BR><B>{</B>
<BLOCKQUOTE><B>DoSomeStuff.toSomeOtherStuff();</B></BLOCKQUOTE>
<B>}</B> <BR><B>else</B> <BR><B>{</B>
<BLOCKQUOTE><B>DoSomeReallyFunkyStuff.toSomeOtherStuff();</B></BLOCKQUOTE>
<B>}</B> <BLOCKQUOTE><TT><FONT SIZE=-1>After an "if" conditional, you
can have an "else" set of brackets. As you might have guessed, if the
"if" condition is false, it does the stuff in the "else" brackets
instead. In fact, instead if "else", you could have an "else if"
followed by another conditional!  Ain't life
grand?</FONT></TT><TT><FONT SIZE=-1></FONT></TT> <P><TT><FONT
SIZE=-1>You can only use the = sign if you are working with
numbers... But you can put any sort of statement you want between the
parenthesis; "if" just cares if it is true or
not.</FONT></TT></BLOCKQUOTE> <B>Player p = d.subject();</B><B></B>
<P><B>if ( p.isGod() )</B> <BR><B>{</B>
<BLOCKQUOTE><B>doSomeGodlyStuff();</B></BLOCKQUOTE> <B>}</B>
<BR><B>else</B> <BR><B>{</B>
<BLOCKQUOTE><B>p.justAintCoolEnough();</B></BLOCKQUOTE> <B>}</B>
<BLOCKQUOTE><TT><FONT SIZE=-1>As we learned in the above example, this
code will make a local variable called p which stores the identity of
a Player, and sets it to the person calling the verb. The isGod() verb
tests to see if a player is a god... so if p is a god, p.isGod() will
return true, and doSomeGodlyStuff(); or, if they aren't a god, then
they justAintCoolEnough();</FONT></TT><TT><FONT SIZE=-1></FONT></TT>
<P><TT><FONT SIZE=-1>Note that you can use various symbols to combine
these statements:</FONT></TT></BLOCKQUOTE> <B>if ( p.isGod() ||
d.directObject().isGodlyThing)</B> <BR><B>{</B>
<BLOCKQUOTE><B>doSomeGodlyStuff();</B></BLOCKQUOTE> <B>}</B>
<BLOCKQUOTE><TT><FONT SIZE=-1>The || symbol means "or"... So if the
player is a god, or if the direct object of the sentence is a "godly
thing", the conditional will be true and doSomeGodlyStuff() will be
executed. (By the way, isGod is a real verb, but isGodlyThing was made
up for purposes of the example.)</FONT></TT> <BR><TT><FONT
SIZE=-1></FONT></TT>&nbsp;</BLOCKQUOTE> Well... I'll add more stuff
later, but in the meantime, just keep reading that verb code, and
don't be afraid to ask questions or experiment, because, gosh darn it,
that's how you learn things like this.  <P>- Tenth<br>
<P>
(Next section: <a href="index.html">Back to Main</a>: That's it for the introduction, but be sure to check out our <a href="index.html#reference">reference</a> section if you have any questions..)
</BODY>
</HTML>
