<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>
  <head>
    <title>Using Doors in Divunal</title>
  </head>

  <body BGCOLOR=white>
    <center>
      <h1>Using Doors in Divunal</h1>
    </center>

    <p>
      Many room descriptions include stuff like: 
    <pre>
Through a wooden doorway to the south, you see a dark cavern.
    </pre>
    even if the door to the south is closed.  This, obviously, is noticeably unrealistic.  The new divunal.door.Door class allows you to dynamically alter the descriptions of the rooms the door connects, as well as inform the rooms' players that the door has been opened or closed.  The &quot;open&quot; and &quot;close&quot; verbs (divunal.door.Open/Close) refer to this class, but it's up to the author to make use of the dynamic description features.
    <p>  
      Here's you do it (I'll give an example in a bit): there are four <a href=/authors/verb.html#string>string</a> properties that you need to fill in:
      <dd><b>openDesc</b> - the string appended to the description of the room the door is in when the door is open.  (Usually a description of what the players can see through the doorway.  Remember that even though a door can be interacted with in two rooms, it is actually located in only one; <a href=/authors/verbs.html#scrutinize>scrutinize</a> it to determine where.)
      <dd><b>closeDesc</b> - the string appended to the description of the room the door is in when the door is closed.  (Usually what the door looks like.)
      <dd><b>thereOpenDesc</b> - the string appended to the description of the room the door is <i>not</i> in, but is connected to--when the door is open.  (Again, usually a description of what the players can see through the doorway.)
      <dd><b>thereCloseDesc</b> - the string appended to the description of the other room when the door is closed.  (You guessed it--usually a description of the door.)
      <p>
	To give your door default door properties, <a href=/authors/verb.html#extend>extend</a> it from class_door.  The above properties will consist only of the empty string, so change them using the <a href=/authors/verb.html#string>string</a> verb.  Here's an example of creating and setting up a door:
	 <pre>
     $ dig north to coat closet
     (with the Swank Pencil)
     Exit built.
     $ draw thin wood door
     (with the Swank Pencil)
     You quickly sketch out a thin wood door and it appears in front of you.
     $ extend thin wood door from class_door
     (with the Swank Pencil)
     Successful subclassage.
     $ reference thin wood door to wood door
     (with the Swank Pencil)
     thin wood door can now be referenced as wood door.
     $ string openDesc to "You see a coat closet past an open wood door to the north." on wood door
     String set.
     $ string closeDesc to "A thin, wood door stands to the north." on wood door
     String set.
     $ string thereOpenDesc to "To the south, you see an open wood door leading to a short east-west hallway." on wood door
     String set.
     $ string thereCloseDesc to "The way to the south is blocked by a wood door." on wood door
     String set.
     $ obstruct north with wood door
     You obstruct the north exit with the the thin wood door
	 </pre>

    <p>
	<b>Important note:</b> Make sure that the description makes it easy for players to figure out what to call the door, and whether it's opened.  The above example was quick and a little forced, but you get the idea.  A good example can be found in the Grand History Book Room.  Also, remember to do your <a href=/authors/verb.html#reference>referencing</a> before <a href=/authors/verb.html#obstruct>obstructing</a> the exit with the door.  You can set the a href=/authors/verb.html#string>string</a> properties at any time.
    <p>&nbsp;
    <p>
	<b><u>Locks</u></b> 
    <p>
To lock a door, set the &quot;locked&quot; <a href=/authors/verbs.html#boolean>boolean</a> property on the door to &quot;true&quot;.  (This is an optional property, not on there by default--i.e. not in class_door.)  For example:
	<pre>
$ boolean locked to true on wood door
(with the Swank Pencil)
Boolean set.
</pre>
The divunal.door.Open verb checks to see whether this is set to &quot;true&quot; before opening a door.

<p>&nbsp;
<p><i>More information on locks, keys, and suchlike is coming soon.</i>
    <hr>
    <address><a href="mailto:jedin@divunal.com">Michael Dartt</a></address>
<!-- Created: Sun Aug  8 19:19:58 EDT 1999 -->
<!-- hhmts start -->
Last modified: Sun Aug  8 22:26:56 EDT 1999
<!-- hhmts end -->
<p>
(Next section: <a href="coding.html">Coding</a>: Get funky with java and Make Your Own Verb.)
  </body>
</html>
