<div xmlns:nevow="http://nevow.com/ns/nevow/0.1">
  <table class="control-table" cellspacing="0" nevow:render="headerPanel">
    <tr>
      <td>From</td><td><nevow:slot name="sender" /></td>
    </tr>
    <tr>
      <td>To</td><td><nevow:slot name="recipient" /></td>
    </tr>
    <tr>
      <td>Subject</td><td><nevow:slot name="subject" /></td>
    </tr>
    <tr valign="top">
      <td>
        Tags
        <a href="#" class="hide-show-action" id="tags-plus" onclick="addTags(); return false">+</a>
        <a href="#" class="hide-show-action" id="tags-minus" onclick="hideTags(); return false" style="display: none;">-</a>
      </td>
      <td>
        <span id="message-tags"><nevow:slot name="tags" /></span>
        <form style="display: none;" id="add-tags-dialog" onsubmit="addTag(this); return false">
          <input autocomplete="off" onkeypress="return onCompletionKeyDown(event);" 
            oninput="completeCurrentTag(this.value)" id="add-tags-dialog-text-input" type="text" name="tag" />
          <div id="tag-completions" />
        </form>
      </td>
    </tr>
  </table>
  <table style="width: 70%">
    <tr valign="top">
      <td>
        <a href="#" onclick="prevMessage(); return false">Previous Message</a>
      </td>
      <td align="right" style="text-align: right">
        <a href="#" onclick="nextMessage(); return false">Next Message</a><br />
        <a href="#" onclick="nextUnreadMessage(); return false">Next Unread Message</a>
      </td>
    </tr>
  </table>
  <p />
  <div style="font-family: monospace; width: 80%" nevow:render="messageBody">
    <nevow:slot name="paragraphs" />
  </div>
  <div style="width: 80%" nevow:render="attachmentPanel" />
</div>
